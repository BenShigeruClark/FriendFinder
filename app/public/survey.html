<!Doctype html>

<html lang="en">
<head>
    <title>FriendFinder</title>
            <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
         integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
         <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
         crossorigin="anonymous"></script>
         <!-- Latest compiled and minified JavaScript -->
         <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" 
         integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
         <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" 
         integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ" crossorigin="anonymous">

</head>

<body>
    <div class="container">
        <h2>Survey Questions</h2>
        <hr>
        <h3>
            <strong>About You!</strong>
        </h3>

        <form>
                <div class="form-row">
                  <div class="col-md-4 mb-3">
                    <label for="validationDefault01"><h4>Name (Required)</h4></label>
                    <input type="text" class="form-control" id="name" required>
                  </div>
                </div>
        </form>
        <form>
                <div class="form-row">
                  <div class="col-md-4 mb-3">
                    <label for="validationDefault01"><h4>Link to Photo Image (Required)</h4></label>
                    <input type="text" class="form-control" id="photo" required>
                  </div>
                </div>
        </form>
        <hr>
        <form>
            <h3>
                <strong>Question 1</strong>
            </h3>
                <div class="form-row align-items-center">
                  <div class="col-auto my-1">
                    <label class="mr-sm-2" for="inlineFormCustomSelect"><h4>You are one who likes learning new things?</h4></label>
                  <div>
                    <select class="chosen-select" id="q1" style="width: 217px">
                      <option selected>Please Select a Option : )</option>
                      <option value="1">1 (Strongly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5 (Strongly Agree)</option>
                    </select>
                  </div>
                      
                  </div>
                  </div>
                
        </form>
        <br>
        <form>
                <h3>
                    <strong>Question 2</strong>
                </h3>
                    <div class="form-row align-items-center">
                      <div class="col-auto my-1">
                        <label class="mr-sm-2" for="inlineFormCustomSelect"><h4>You like to think through problems rather than react quickly?</h4></label>
                      <div>
                        <select class="chosen-select" id="q2" style="width: 217px">
                          <option selected>Please Select a Option : )</option>
                          <option value="1">1 (Strongly Disagree)</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5 (Strongly Agree)</option>
                        </select>
                      </div>                    
                       </div>
                    </div>
         </form>
         <br>
         <form>
                <h3>
                    <strong>Question 3</strong>
                </h3>
                    <div class="form-row align-items-center">
                      <div class="col-auto my-1">
                        <label class="mr-sm-2" for="inlineFormCustomSelect"><h4>You like the outdoors and nature?</h4></label>
                      <div>
                        <select class="chosen-select" id="q3" style="width: 217px">
                          <option selected>Please Select a Option : )</option>
                          <option value="1">1 (Strongly Disagree)</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5 (Strongly Agree)</option>
                        </select>
                      </div>                    
                       </div>
                    </div>
         </form>
         <br>
         <form>
                <h3>
                    <strong>Question 4</strong>
                </h3>
                    <div class="form-row align-items-center">
                      <div class="col-auto my-1">
                        <label class="mr-sm-2" for="inlineFormCustomSelect"><h4>You enjoy traveling and learning about new cultures?</h4></label>
                      <div>
                        <select class="chosen-select" id="q4" style="width: 217px">
                          <option selected>Please Select a Option : )</option>
                          <option value="1">1 (Strongly Disagree)</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5 (Strongly Agree)</option>
                        </select>
                      </div>                    
                       </div>
                    </div>
         </form>
         <br>
         <form>
                <h3>
                    <strong>Question 5</strong>
                </h3>
                    <div class="form-row align-items-center">
                      <div class="col-auto my-1">
                        <label class="mr-sm-2" for="inlineFormCustomSelect"><h4>You can relate to others and you have empathy for those less fortunate?</h4></label>
                      <div>
                        <select class="chosen-select" id="q5" style="width: 217px">
                          <option selected>Please Select a Option : )</option>
                          <option value="1">1 (Strongly Disagree)</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5 (Strongly Agree)</option>
                        </select>
                      </div>                    
                       </div>
                    </div>
         </form>
         <br>
         <form>
                <h3>
                    <strong>Question 6</strong>
                </h3>
                    <div class="form-row align-items-center">
                      <div class="col-auto my-1">
                        <label class="mr-sm-2" for="inlineFormCustomSelect"><h4>You are one who likes to keep it simple?</h4></label>
                      <div>
                        <select class="chosen-select" id="q6" style="width: 217px">
                          <option selected>Please Select a Option : )</option>
                          <option value="1">1 (Strongly Disagree)</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5 (Strongly Agree)</option>
                        </select>
                      </div>                    
                       </div>
                    </div>
         </form>
         <br>
         <form>
                <h3>
                    <strong>Question 7</strong>
                </h3>
                    <div class="form-row align-items-center">
                      <div class="col-auto my-1">
                        <label class="mr-sm-2" for="inlineFormCustomSelect"><h4>You enjoy a wide array of different styles of music?</h4></label>
                      <div>
                        <select class="chosen-select" id="q7" style="width: 217px">
                          <option selected>Please Select a Option : )</option>
                          <option value="1">1 (Strongly Disagree)</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5 (Strongly Agree)</option>
                        </select>
                      </div>                    
                       </div>
                    </div>
         </form>
         <br>
         <form>
                <h3>
                    <strong>Question 8</strong>
                </h3>
                    <div class="form-row align-items-center">
                      <div class="col-auto my-1">
                        <label class="mr-sm-2" for="inlineFormCustomSelect"><h4>Time is generative and not deterministic?</h4></label>
                      <div>
                        <select class="chosen-select" id="q8" style="width: 217px">
                          <option selected>Please Select a Option : )</option>
                          <option value="1">1 (Strongly Disagree)</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5 (Strongly Agree)</option>
                        </select>
                      </div>                    
                       </div>
                    </div>
         </form>
         <br>
         <form>
                <h3>
                    <strong>Question 9</strong>
                </h3>
                    <div class="form-row align-items-center">
                      <div class="col-auto my-1">
                        <label class="mr-sm-2" for="inlineFormCustomSelect"><h4>You enjoy trying different types of food?</h4></label>
                      <div>
                        <select class="chosen-select" id="q9" style="width: 217px">
                          <option selected>Please Select a Option : )</option>
                          <option value="1">1 (Strongly Disagree)</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5 (Strongly Agree)</option>
                        </select>
                      </div>                    
                       </div>
                    </div>
         </form>
         <br>
         <form>
                <h3>
                    <strong>Question 10</strong>
                </h3>
                    <div class="form-row align-items-center">
                      <div class="col-auto my-1">
                        <label class="mr-sm-2" for="inlineFormCustomSelect"><h4>You believe in telling the truth even if its not going to make someone happy?</h4></label>
                      <div>
                        <select class="chosen-select" id="q10" style="width: 217px">
                          <option selected>Please Select a Option : )</option>
                          <option value="1">1 (Strongly Disagree)</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                          <option value="4">4</option>
                          <option value="5">5 (Strongly Agree)</option>
                        </select>
                      </div>                    
                       </div>
                    </div>
         </form>
         <br>
         <button type="button" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fas fa-check-circle"></i> Submit</button>
         <hr>
         <br>
         <footer class="footer">
             <div class="container">
                 <p>
                     <a href="/api/friends">API Friends List</a>
                     <a> | </a>
                     <a href="https://github.com/BenShigeruClark">Github Repo</a>
                 </p>
             </div>
         </footer>

        </div>
        <script type="text/javascript">
        
        var config = {
            ".chosen-select": {},
            ".chosen-select-deselect": {
            allow_single_deselect: true
            },
            ".chosen-select-no-single": {
            disable_search_threshold: 10
            },
            ".chosen-select-no-results": {
                no_results_text: "Sorry, nothing found."
            },
            ".chosen-select-width": {
                width: "95%"
            }
        };

        for (var selector in config) {
            $(selector).chosen(config[selector]);
        }
        

        // click function to capture form inputs
        $("#submit").on("click", function(event) {
            event.preventDefault();
            // Validates the form
            function formValidate() {
                var isValid = true;
                $(".custom-select").each(function() 
                {
                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });

                $(".custom-select").each(function() {

                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });
                return isValid;
            }
            // If all required fields are filled
            if (formValidate()) {
                // Create objects for user's data
                var userData = {
                    name: $("#name").val(),
                    photo: $("#photo").val(),
                    scores: [
                        $("#q1").val(),
                        $("#q2").val(),
                        $("#q3").val(),
                        $("#q4").val(),
                        $("#q5").val(),
                        $("#q6").val(),
                        $("#q7").val(),
                        $("#q8").val(),
                        $("#q9").val(),
                        $("#q10").val()
                    ]
                };

                //AJAX posting data to friends API
                $.post("/api/friends", userData, function(data) {
                    // Grabs the result fro the AJAX so best match is displayed
                    $("#match-name").text(data.name);
                    $("#match-img").attr("src", data.photo);

                    // Show the best match
                    $("#results-modal").modal("toggle");

                });
                // else statement to send alert if all fields aren't filled.
            } else {
                alert("Please fill out all fields before submitting!");
            }
        });
        </script>
</body>

</html>